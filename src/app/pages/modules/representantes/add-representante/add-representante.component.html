<div class="border-b border-gray-200 dark:border-gray-700 mx-3">
  <ul
    class="flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500"
  >
    <li class="me-2">
      <a
        (click)="change_tabs('Profile')"
        [class]="showSelectedTab('Profile', tab_selected)[0]"
      >
        <svg
          [class]="showSelectedTab('Profile', tab_selected)[1]"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 20 20"
        >
          <path
            d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"
          /></svg
        >Sub Evento
      </a>
    </li>
    <li class="me-2">
      <a
        (click)="change_tabs('Poderes')"
        [class]="showSelectedTab('Poderes', tab_selected)[0]"
      >
        <svg
          [class]="showSelectedTab('Poderes', tab_selected)[1]"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 18 18"
        >
          <path
            d="M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"
          /></svg
        >Sub Evento Detalle
      </a>
    </li>
  </ul>
</div>

<div
  [ngSwitch]="tab_selected"
  class="lg:flex lg:items-start lg:justify-between px-3"
>
  <a *ngSwitchCase="'Profile'" class="block w-full mt-1 p-6">
    <form [formGroup]="addValueForm" class="max-w-2xl mx-auto">
      <div class="relative z-0 w-full mb-5 group">
        <input
          type="text"
          [class]="input_class"
          placeholder=" "
          formControlName="nombre"
          required
          autocomplete="nope"
        />
        <label for="floating_last_name" [class]="label_class"> Nombre </label>
      </div>
      <div class="relative z-0 w-full mb-5 group">
        <textarea
          id="message"
          rows="4"
          formControlName="descripcion"
          required
          autocomplete="nope"
          [class]="input_class"
          placeholder=" "
        ></textarea>
        <label for="descripcion" [class]="label_class"> Descripción </label>
      </div>
      <div class="relative z-0 w-full mb-5 group">
        <input
          type="text"
          [class]="input_class"
          placeholder=" "
          formControlName="ubicacionExacta"
          required
          autocomplete="nope"
        />
        <label for="floating_last_name" [class]="label_class">
          ubicación Exacta
        </label>
      </div>
      <div class="grid md:grid-cols-3 md:gap-6">
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="time"
            [class]="input_class"
            placeholder=" "
            formControlName="fechaInicio"
            required
            autocomplete="nope"
          />
          <label for="floating_last_name" [class]="label_class">
            Fecha Inicio
          </label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="time"
            [class]="input_class"
            placeholder=" "
            formControlName="fechaFin"
            required
            autocomplete="nope"
          />
          <label for="floating_last_name" [class]="label_class">
            Fecha Fin
          </label>
        </div>
        <div class="relative z-0 col-span-1 mb-5 group">
          <label [class]="label_class">Lugar </label>
          <select [class]="input_class" formControlName="lugarId">
            <option *ngIf="list_lugares.length > 0"></option>
            <option *ngFor="let item of list_lugares" [value]="item.id">
              {{ item.nombre }}
            </option>
          </select>
        </div>
      </div>
      <div class="relative z-0 w-full mb-5 group">
        <label
          class="block mb-2 text-sm font-medium text-gray-500"
          for="file_input"
          >Upload file</label
        >
        <input
          class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-transparent focus:outline-none"
          id="file_input"
          type="file"
          required
          (change)="onFileSelected($event)"
        />
      </div>

      <div class="flex justify-center">
        <img
          *ngIf="dataLocalStorage.data.foto != null"
          class="relative z-0 h-60 mb-5 group"
          src="{{ dataLocalStorage.data.foto }}"
          alt="{{ dataLocalStorage.data.nombre }}"
        />
      </div>
      <div *ngIf="bool_search_api" class="global-center">
        <button
          type="button"
          (click)="nextPage()"
          class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
        >
          Guardar
        </button>
      </div>
    </form>
  </a>
  <div *ngSwitchCase="'Poderes'" class="block w-full mt-1">
    <div class="global-center-end">
      <button
        type="button"
        (click)="
          activateRelacionPoder({
            action: true,
            option: 'CREATE',
            obj: addValueForm.value
          })
        "
        class="text-white global-center w-15 bg-blue-700 my-2 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 inline-flex items-center"
      >
        Agregar Poder
      </button>
    </div>

    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left rtl:text-right text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
          <tr>
            <th scope="col" class="px-6 py-3">País Empresa</th>
            <th scope="col" class="px-6 py-3">Empresa</th>
            <th scope="col" class="px-6 py-3">
              <div class="flex items-center">Banco</div>
            </th>
            <th scope="col" class="px-6 py-3">
              <div class="flex items-center">Poder</div>
            </th>
            <th scope="col" class="px-6 py-3">
              <div class="flex items-center">Tipo Firmante</div>
            </th>
            <th scope="col" class="px-6 py-3">
              <div class="flex items-center">Estado Poder</div>
            </th>
            <th scope="col" class="px-6 py-3 truncate">
              <div class="flex items-center truncate">Nota</div>
            </th>
            <th scope="col" class="px-6 py-3">
              <span class="sr-only">Edit</span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr class="bg-white" *ngFor="let item of Listado_poderes">
            <th
              scope="row"
              class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap"
            >
              {{ item.paisEmpresa }}
            </th>
            <th
              scope="row"
              class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap"
            >
              {{ item.empresaDesc }}
            </th>
            <td class="px-6 py-4">
              {{ item.entidadDesc }}
            </td>
            <td class="px-6 py-4">
              {{ item.poderDesc }}
            </td>
            <td class="px-6 py-4">
              {{ item.tipoRepresentanteDesc }}
            </td>
            <td class="px-6 py-4">
              {{ item.estadoPoderDesc }}
            </td>
            <td class="px-6 py-4 truncate">
              <a *ngIf="item.nota">
                {{
                  item.nota.length < 10
                    ? item.nota
                    : item.nota.slice(0, 10) + "..."
                }}
              </a>
              <a *ngIf="!item.nota"> No agregó nota </a>
            </td>
            <td class="px-6 py-4 text-right">
              <a
                (click)="
                  activateRelacionPoder({
                    action: true,
                    option: 'EDIT',
                    obj: item
                  })
                "
                class="font-medium text-blue-600 hover:underline"
                >Ver /
              </a>
              <a
                (click)="deleteRelacion(item)"
                class="font-medium text-blue-600 hover:underline"
                >Eliminar</a
              >
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="Listado_poderes.length == 0">
        <div class="w-full global-center py-2 text-sm">
          No se encontraron registros
        </div>
      </div>
    </div>
  </div>
</div>

<app-add-relacion-poder
  *ngIf="boolRelacionPoder"
  [TypeModal]="sentMOdal"
  (messageEvent)="activateRelacionPoder($event)"
></app-add-relacion-poder>
